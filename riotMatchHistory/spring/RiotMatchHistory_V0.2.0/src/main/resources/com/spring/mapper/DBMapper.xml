<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.mapper.DBMapper">
	<!-- getSearchDB요청이 들어오면 id가 id값, tag가 tag값으로 시작하는 정보를 SearchDB에서 가져옴 -->
	<select id="getSearchDB" resultType="com.spring.util.SearchDto">
		select * from search_DB where id like concat(#{id}, '%') and tag like concat(#{tag}, '%') order by id limit 5
	</select>
	<!-- getSearchDBbyID요청이 들어오면 id가 id값으로 시작하는 정보를 SearchDB에서 가져옴 -->
	<select id="getSearchDBbyID" resultType="com.spring.util.SearchDto">
		select * from search_DB where id like concat(#{id}, '%') order by id limit 5
	</select>
	<!-- findSearchDB요청이 들어오면 id,tag가 일치하는 정보를 SearchDB에서 가져옴 -->
	<select id="findSearchDB" resultType="com.spring.util.SearchDto">
	    select * from search_DB where id = #{id} and tag = #{tag}
	</select>
	<!-- addSearchDB요청이 들어오면 id,tag,icon,regalia값을 넣은 정보를 SearchDB에 추가함 -->
	<select id="addSearchDB">
		insert into search_DB(id, tag, icon, regalia) value(#{id}, #{tag}, #{icon}, #{regalia})
	</select>
	<!-- findAccountDBbyID요청이 들어오면 id값과 일치하는 정보를 AccountDB에서 가져옴 -->
	<select id="findAccountDBbyID" resultType="com.spring.util.AccountDto">
	    select * from account_DB where id = #{id}
	</select>
	<!-- findAccountDB요청이 들어오면 id값과 pw값이 일치하는 정보를 AccountDB에서 가져옴 -->
	<select id="findAccountDB" resultType="com.spring.util.AccountDto">
	    select * from account_DB where id = #{id} and pw = #{pw}
	</select>
	<!-- addAccountDB요청이 들어오면 id, pw, email, riotAccount값을 넣은 정보를 SearchDB에 추가함 -->
	<select id="addAccountDB">
		insert into account_DB(id, pw, email, riotAccount) value(#{id}, #{pw}, #{email}, #{riotAccount})
	</select>
</mapper>